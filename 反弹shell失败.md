# 命令执行 反弹shell 监听不到


前置基础：内网、私网、公网、网络连通性

先明白一点：反弹 shell 的本质是目标主动发起连接到你监听的主机，所以这个主机必须是 目标可以访问的地址。


**可能的失败原因**：

- 反弹shell的命令错误
- 使用本地虚拟机kali监听公网靶机反弹的shell，本地虚拟机没有公网ip，靶机找不到你
- 使用具有公网ip的服务器监听反弹shell，还是无法监听到，可以尝试在云服务器控制面板 安全组 中放行监听反弹shell的端口
- 靶机不出网，无法访问外部网络



## 解决方法

更推荐购买一台低配公网服务器，在进行题目反弹shell操作时简单好用。可以在阿里云、腾讯云等平台购买，新人通常可以免费试用几个月，也可以几十块一年2h2g。

- 公网服务器：在云服务器控制台安全组放行监听反弹shell的端口，`nv -lvnp 4444`即可
- 本地虚拟机kali/ubuntu：使用内网穿透工具，将本地虚拟机的监听端口映射到公网，靶机访问映射后的公网ip和端口。过程可能比较曲折，喜欢折腾的新手师傅可以尝试。

一些提供免费内网穿透服务的工具：

- [skura frp](https://www.natfrp.com/)
- [cloudflare tunnel](https://www.cloudflare.com/)
- [cpolar](https://www.cpolar.com/)